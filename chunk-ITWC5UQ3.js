import{a as Y}from"./chunk-SA73PTZG.js";import{a as M}from"./chunk-2TTMMZPA.js";import{a as S}from"./chunk-2O4QYMPI.js";import{b as Q,c as W,h as X}from"./chunk-BPO3UDND.js";import"./chunk-IGDONR4E.js";import{$ as o,A as P,Ab as J,B as y,Ba as z,Ca as U,Db as K,I as C,K as s,N as l,O as x,Oa as L,P as A,Pa as w,T as h,Z as a,_ as n,aa as p,ab as N,ba as j,bb as H,ca as B,ea as V,eb as $,fa as g,ga as d,i as E,k,lb as R,pa as b,pb as q,qa as c,ra as I,sa as f,u as F,ub as G,y as D,z as T}from"./chunk-XKQUAFE5.js";function ue(e,i){if(e&1&&(n(0,"div"),c(1),o()),e&2){let r=d();s(),f(" \u041F\u0435\u0440\u0435\u0434 \u043F\u0440\u043E\u0445\u043E\u0434\u0436\u0435\u043D\u043D\u044F\u043C \u0446\u044C\u043E\u0433\u043E \u043A\u0443\u0440\u0441\u0443 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0443\u0454\u0442\u044C\u0441\u044F \u0441\u043F\u043E\u0447\u0430\u0442\u043A\u0443 \u043F\u0440\u043E\u0439\u0442\u0438 ",r.scs.doc(r.scs.doc(r.session.course).suggestedCourse).name,", \u0449\u043E\u0431 \u043A\u0440\u0430\u0449\u0435 \u043E\u0437\u043D\u0430\u0439\u043E\u043C\u0438\u0442\u0438\u0441\u044F \u0437 \u043C\u0430\u0442\u0435\u0440\u0456\u0430\u043B\u043E\u043C. ")}}function ce(e,i){if(e&1&&(n(0,"div"),c(1),o()),e&2){let r=d();s(),f(" \u0414\u043B\u044F \u043F\u0440\u043E\u0445\u043E\u0434\u0436\u0435\u043D\u043D\u044F \u0446\u044C\u043E\u0433\u043E \u043A\u0443\u0440\u0441\u0443 \u043D\u0435\u043E\u0431\u0445\u0456\u0434\u043D\u043E \u0441\u043F\u043E\u0447\u0430\u0442\u043A\u0443 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 ",r.scs.doc(r.scs.doc(r.session.course).requiredCourse).name,", \u043E\u0441\u043A\u0456\u043B\u044C\u043A\u0438 \u0432\u0456\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u0432\u0430\u0436\u043B\u0438\u0432\u0456 \u0431\u0430\u0437\u043E\u0432\u0456 \u0437\u043D\u0430\u043D\u043D\u044F. ")}}function ae(e,i){if(e&1){let r=V();n(0,"wbutton",22),g("click",function(u){return D(r),d().buy(),T(u.stopPropagation())}),c(1),z(2,"translate"),o()}if(e&2){let r=d();s(),f("",r.scs.doc(r.session.course).cost?r.scs.doc(r.session.course).cost+"\u0433\u0440\u043D":U(2,1,"Common.Free")," ")}}var ee=(()=>{let i=class i{constructor(m,u,t,_,v){this._scs=m,this.userService=u,this.scs=t,this._http=_,this._router=v,this.url=J.url}go(){this._router.navigateByUrl(`/course/${this.session.course}/${this.session._id}`)}buy(){this._http.post("/api/school/participate",{session:this.session._id,course:this.session.course},m=>{m&&this._scs.fetch(m).subscribe(()=>{this._router.navigateByUrl("/course/"+m.course)})})}};i.\u0275fac=function(u){return new(u||i)(l(M),l(S),l(Q),l(G),l(N))},i.\u0275cmp=x({type:i,selectors:[["app-session"]],inputs:{session:"session"},standalone:!1,decls:32,vars:8,consts:[[1,"courses-wrapper",3,"click"],[1,"courses-img"],["alt","",3,"src"],[1,"courses-text"],[1,"documents__title"],[1,"documents__description"],[1,"courses-text-author"],[1,"courses-text-author__img","courses-icon"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve",2,"enable-background","new 0 0 24 24"],["id","info"],["id","icons"],["id","user"],["cx","12","cy","8","rx","5","ry","6"],["d","M21.8,19.1c-0.9-1.8-2.6-3.3-4.8-4.2c-0.6-0.2-1.3-0.2-1.8,0.1c-1,0.6-2,0.9-3.2,0.9s-2.2-0.3-3.2-0.9    C8.3,14.8,7.6,14.7,7,15c-2.2,0.9-3.9,2.4-4.8,4.2C1.5,20.5,2.6,22,4.1,22h15.8C21.4,22,22.5,20.5,21.8,19.1z"],[1,"courses-text-author__text"],[1,"courses-text-time"],[1,"courses-text-time__img","courses-icon"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","height","512px","id","Layer_1","version","1.1","viewBox","0 0 512 512","width","512px",0,"xml","space","preserve",2,"enable-background","new 0 0 512 512"],["d","M256,48C141.1,48,48,141.1,48,256s93.1,208,208,208c114.9,0,208-93.1,208-208S370.9,48,256,48z M273,273H160v-17h96V128h17   V273z"],[1,"courses-text-time__text"],[4,"ngIf"],["class","courses__btn",3,"click",4,"ngIf"],[1,"courses__btn",3,"click"]],template:function(u,t){u&1&&(n(0,"div",0),g("click",function(){return t.go()}),n(1,"div",1),p(2,"img",2),o(),n(3,"div",3)(4,"div",4),c(5),o(),n(6,"div",5),c(7),o(),n(8,"div",6)(9,"div",7),P(),n(10,"svg",8),p(11,"g",9),n(12,"g",10)(13,"g",11),p(14,"ellipse",12)(15,"path",13),o()()()(),y(),n(16,"div",14),c(17," \u0410\u0432\u0442\u043E\u0440 \u043A\u0443\u0440\u0441\u0443: "),n(18,"span"),c(19),o()()(),n(20,"div",15)(21,"div",16),P(),n(22,"svg",17)(23,"g"),p(24,"path",18),o()()(),y(),n(25,"div",19),c(26," \u0422\u0440\u0430\u0432\u0430\u043B\u0456\u0441\u0442\u044C: "),n(27,"span"),c(28),o()()(),h(29,ue,2,1,"div",20)(30,ce,2,1,"div",20)(31,ae,3,3,"wbutton",21),o()()),u&2&&(s(2),a("src",t.url+t.scs.doc(t.session.course).thumb,C),s(3),I(t.scs.doc(t.session.course).name),s(2),f(" ",t.scs.doc(t.session.course).description," "),s(12),I(t.userService.doc(t.scs.doc(t.session.course).author).name),s(9),f("",t.scs.doc(t.session.course).duration," \u0433\u043E\u0434."),s(),a("ngIf",t.scs.doc(t.session.course).suggestedCourse),s(),a("ngIf",t.scs.doc(t.session.course).requiredCourse),s(),a("ngIf",t.userService.user.email))},dependencies:[w,R,K],styles:[".courses-wrapper[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.courses-img[_ngcontent-%COMP%]{max-width:250px;height:200px}.courses-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.courses-text[_ngcontent-%COMP%]{flex:1 0;padding-left:30px}.courses-text-author[_ngcontent-%COMP%], .courses-text-lessons[_ngcontent-%COMP%], .courses-text-time[_ngcontent-%COMP%]{display:flex;align-items:center}.courses__btn[_ngcontent-%COMP%]{max-width:230px;width:100%;display:block}.courses-icon[_ngcontent-%COMP%]{width:26px;height:26px}.courses-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;fill:#c4a459}.courses-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#c4a459}.courses-text-author[_ngcontent-%COMP%], .courses-text-lessons[_ngcontent-%COMP%], .courses-text-time[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:7px}.courses-text-author__img[_ngcontent-%COMP%], .courses-text-lessons__img[_ngcontent-%COMP%], .courses-text-time__img[_ngcontent-%COMP%]{margin-right:10px}.courses-text-author__text[_ngcontent-%COMP%], .courses-text-lessons__text[_ngcontent-%COMP%], .courses-text-time__text[_ngcontent-%COMP%]{color:var(--course-trigger);font-weight:600}.courses-text-author__text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .courses-text-lessons__text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .courses-text-time__text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--c-text-primary)}@media screen and (max-width: 767px){.courses-wrapper[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap}.courses-text[_ngcontent-%COMP%]{flex:0 0 100%;padding-left:0}.courses-img[_ngcontent-%COMP%]{max-width:250px;margin:0 auto 0 0}.courses-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.documents__title[_ngcontent-%COMP%]{padding:10px 0}}"]});let e=i;return e})();function le(e,i){e&1&&(n(0,"p",17),c(1," \u041F\u0440\u0438\u0434\u0431\u0430\u043D\u0456 \u043A\u0443\u0440\u0441\u0438 "),o())}function pe(e,i){if(e&1&&(n(0,"div",18),p(1,"app-certificate",19),o()),e&2){let r=i.$implicit;s(),a("certificate",r)}}function de(e,i){if(e&1&&(j(0),h(1,le,2,0,"p",15)(2,pe,2,1,"div",16),B()),e&2){let r=d();s(),a("ngIf",r.certificates.length),s(),a("ngForOf",r.certificates)}}function _e(e,i){e&1&&(n(0,"p",17),c(1," \u041A\u0443\u043F\u0438\u0442\u0438 \u043A\u0443\u0440\u0441 "),o())}function ge(e,i){if(e&1&&(n(0,"div",18),p(1,"app-session",20),o()),e&2){let r=i.$implicit;s(),a("session",r)}}var te=(()=>{let i=class i{constructor(m,u,t,_){this._sss=m,this._scs=u,this.userService=t,this._core=_,this.isMenuOpen=!1,this.sessions=[],this.certificates=[],k([E(this._sss.get({},{name:"public",callback:v=>{this.sessions=v}})),E(this._core.onComplete("schoolcertificate_loaded"))]).subscribe(()=>{this.certificates=this._scs.schoolcertificatesByAuthorstatus[this.userService.user._id+"Pending"]||[];let v=this.certificates.map(O=>O.course);this.sessions=this.sessions.filter(O=>!v.includes(O.course))})}back(){window.history.back()}};i.\u0275fac=function(u){return new(u||i)(l(Y),l(M),l(S),l(q))},i.\u0275cmp=x({type:i,selectors:[["ng-component"]],standalone:!1,decls:19,vars:8,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"documents-header"],[1,"documents-header-left"],[1,"documents-header-left__arrow",3,"click"],[1,"material-icons"],["routerLink","/profile",1,"documents-header-left__avatar"],["alt","",3,"src"],[1,"documents-header__title"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-main","documents-main--nobar"],[1,"documents-main-content"],[4,"ngIf"],["class","course__title",4,"ngIf"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"course__title"],[1,"documents-main-row"],[3,"certificate"],[3,"session"]],template:function(u,t){u&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g("click",function(){return t.back()}),n(6,"span",6),c(7,"arrow_back_ios"),o()(),n(8,"div",7),p(9,"img",8),o()(),n(10,"div",9),c(11,"\u041A\u0443\u0440\u0441\u0438"),o(),n(12,"div",10),g("click",function(){return t.isMenuOpen=!t.isMenuOpen}),p(13,"div",11),o()(),n(14,"div",12)(15,"div",13),h(16,de,3,2,"ng-container",14)(17,_e,2,0,"p",15)(18,ge,2,1,"div",16),o()()()()()),u&2&&(b("documents-wrapper--open",t.isMenuOpen),s(9),a("src",t.userService.thumb,C),s(4),b("burger--close",t.isMenuOpen),s(3),a("ngIf",t.userService.user.email),s(),a("ngIf",t.sessions.length),s(),a("ngForOf",t.sessions))},dependencies:[H,L,w,W,ee],styles:[".course__title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--c-text-primary)}"]});let e=i;return e})();var fe=[{path:"",component:te}],ke=(()=>{let i=class i{};i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=A({type:i}),i.\u0275inj=F({imports:[$.forChild(fe),X]});let e=i;return e})();export{ke as CoursesModule};

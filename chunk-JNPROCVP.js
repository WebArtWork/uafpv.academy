import{a as g}from"./chunk-PVDPL3BM.js";import{a as S}from"./chunk-2O4QYMPI.js";import{Bb as p,Jb as d,Mb as f,N as s,Nb as v,O as n,S as l,Ta as m,Z as a,aa as c,ab as u,qb as h}from"./chunk-XKQUAFE5.js";var _={formId:"schoollesson",title:"Schoollesson",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill schoollesson title"},{name:"Label",value:"Title"}]},{name:"Text",key:"shortDescription",fields:[{name:"Placeholder",value:"fill lesson short description"},{name:"Label",value:"Short description"}]},{name:"Html",key:"description",fields:[{name:"Placeholder",value:"fill schoollesson description"},{name:"Label",value:"Description"},{name:"Textarea",value:!0}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill schoollesson description"},{name:"Label",value:"Description"},{name:"Textarea",value:!0}]},{name:"Tags",key:"links",fields:[{name:"Placeholder",value:"add lessons links"},{name:"Label",value:"Links"}]}]};var C=(()=>{let e=class e extends h{allowCreate(){return this._userService.role("admin")||this._userService.role("schoolowner")||this._userService.role("schoolteacher")}allowMutate(){return this.allowCreate()}allowSort(){return!0}preCreate(o){delete o.__created,this.course&&(o.course=this.course)}constructor(o,t,i,T,w){super(_,w,i,o),this._userService=t,this._router=T,this.course=this._router.url.includes("/lessons/")?this._router.url.split("/")[this._router.url.split("/").length-1]:"",this.configType="local",this.columns=["name"],this.config=this.getConfig(),this.setDocuments(),this.config.buttons.push({icon:"assignment",hrefFunc:y=>this._roleUrl()+"tests/lesson/"+y._id})}_roleUrl(){return this._userService.role("admin")?"/admin/":this._userService.role("schoolowner")?"/owner/":this._userService.role("schoolteacher")?"/teacher/":"/"}};e.\u0275fac=function(t){return new(t||e)(s(g),s(S),s(p),s(u),s(d))},e.\u0275cmp=n({type:e,selectors:[["ng-component"]],features:[l],decls:1,vars:3,consts:[["title","Lessons",3,"columns","config","rows"]],template:function(t,i){t&1&&c(0,"wtable",0),t&2&&a("columns",i.columns)("config",i.config)("rows",i.documents)},dependencies:[m,v,f],encapsulation:2});let r=e;return r})();var z=[{path:"",component:C}];export{z as lessonsRoutes};
